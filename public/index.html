<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HWID Reset | ErenXiters</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }

    .container {
        background: rgba(0, 0, 0, 0.75);
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 0 25px rgba(0,0,0,0.5);
        width: 100%;
        max-width: 400px;
    }

    h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #00ffc6;
    }

    label {
        display: block;
        margin-top: 15px;
        margin-bottom: 5px;
        font-weight: bold;
    }

    input, select, button {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        border: none;
        font-size: 16px;
        margin-bottom: 10px;
    }

    select {
        cursor: pointer;
    }

    button {
        background: #00ffc6;
        color: #000;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
    }

    button:hover {
        background: #00e0b0;
    }

    .status {
        margin-top: 15px;
        padding: 10px;
        border-radius: 8px;
        display: none;
        font-weight: bold;
        text-align: center;
    }

    .status.success { background: #28a745; color: #fff; }
    .status.error { background: #dc3545; color: #fff; }
    .status.info { background: #ffc107; color: #000; }
</style>
</head>
<body>

<div class="container">
    <h1>HWID Reset</h1>

    <label for="category">Category</label>
    <select id="category">
        <option value="">Select Category</option>
        <option value="EREN">EREN</option>
        <option value="INSANE">INSANE</option>
        <option value="MAXGAMER">MAXGAMER</option>
        <option value="SALZ">SALZ</option>
        <option value="CYBER">CYBER</option>
        <option value="AIM">AIM</option>
        <option value="SNIPER">SNIPER</option>
        <option value="B4EVER">B4EVER</option>
    </select>

    <label for="username">Username</label>
    <input type="text" id="username" placeholder="Enter your username">

    <label for="password">Password</label>
    <input type="password" id="password" placeholder="Enter your password">

    <button id="resetBtn">Reset HWID</button>

    <div id="status" class="status"></div>
</div>

<script>
const resetBtn = document.getElementById('resetBtn');
const statusDiv = document.getElementById('status');

function showStatus(message, type='info') {
    statusDiv.style.display = 'block';
    statusDiv.textContent = message;
    statusDiv.className = 'status ' + type;
}

resetBtn.addEventListener('click', async () => {
    const category = document.getElementById('category').value.trim();
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();
    const newHWID = ""; // reset to blank string

    if (!category || !username || !password) {
        showStatus('⚠️ Please fill in all fields.', 'error');
        return;
    }

    showStatus('⏳ Resetting HWID...', 'info');

    try {
        const res = await fetch(`/.netlify/functions/updateHWID?category=${encodeURIComponent(category)}&username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}&updatedhwid=${encodeURIComponent(newHWID)}`);

        const data = await res.json();

        if (!res.ok) throw new Error(data.error || 'Unknown error');

        showStatus(`✅ HWID reset successfully!`, 'success');
    } catch (err) {
        showStatus('❌ ' + err.message, 'error');
    }
});
</script>

</body>
</html>
